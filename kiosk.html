<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Evidence Library 4 Web</title>
<link href="css/app.css" type="text/css" rel="stylesheet" media="screen"/>
<link href="css/font-awesome.css" type="text/css" rel="stylesheet" media="all" />
<link href="http://fonts.googleapis.com/css?family=Libre+Baskerville:400italic" type="text/css" rel="stylesheet" media="all" />
<link href="css/jquery.qtip.css" rel="stylesheet" />
<link rel="stylesheet" href="css/test.css" />
<link href="css/print.css" type="text/css" rel="stylesheet" media="print" />
<link rel="shortcut icon" href="images/favicon.ico" type="image/x-icon"/>

<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="mobile-web-app-capable" content="yes">

<script src="js/modernizr.js"></script>
<!--[if gte IE 9]>
	  <style type="text/css">
	    .gradient {filter: none;}
	  </style>
	<![endif]-->
</head>

<body class="kiosk">
<section class="main-section clearfix"> 
	<header id="kiosk-header" class="">
		<img src="images/kiosk-logo.png"  id="kiosk-logo" alt="" />
	</header><!-- end header #kiosk-header. -->
	<div class="row">
	    <div class="small-12 medium-12 large-12 columns">
			<h2 class="select-officer text-centered"><i class="fa fa-users"></i> Select an Officer</h2>
			<input id="officername" name="officername" type="text" value="" placeholder="Enter an Officer Name" tabindex="1"/>
			
			<button id="change-config" tabindex="2">
				<span class="fa-stack fa-lg">
				  <i class="fa fa-circle fa-stack-2x"></i>
				  <i class="fa fa-cogs fa-stack-1x fa-inverse"></i>
				</span>
				Change Officer Preferences / Device Settings</button>
			
	    </div><!-- end columns -->
	</div><!-- end row -->
	
	
	
	
    <div id="checkout-config-wrapper">
		<div class="row">
		    <div class="small-12 medium-12 large-12 columns">
				<h5>Officer Preferences</h5>
		    </div><!-- end columns -->
		</div><!-- end row -->
	
	
		<div class="row">
		    <div class="small-12 medium-6 large-6 columns">
                <label for="" class=""><i class="fa fa-sun-o"></i> LED Brightness</label>
                <select class="select"  tabindex="3">
                    <option value="">Dim</option>
                    <option value="" selected>Normal</option>
                    <option value="">Bright</option>
                </select>
                <label for="auto-reduce">
					<input type="checkbox" name="auto-reduce" id="auto-reduce"  tabindex="4"/>
					<small>Auto reduce LED brightness between 8pm - 8am</small>
				</label>
				<br/>
		    </div><!-- end columns -->
		    <div class="small-12 medium-6 large-6 columns">
                <label for="" class=""><i class="fa fa-volume-up"></i> Alert Notifications</label>
                <select class="select"  tabindex="5">
                    <option value="">Audio &amp; Vibration</option>
                    <option value="">Audio Only</option>
                    <option value="">Vibration Only</option>
                </select>
		    </div><!-- end columns -->
		</div><!-- end row -->
		<div class="row">
		    <div class="small-12 medium-6 large-6 columns">
                <label for="" class=""><i class="fa fa-signal"></i> Audio Alert Levels</label>
                <select class="select"  tabindex="6">
                    <option value="">Low</option>
                    <option value="" selected>Normal</option>
                    <option value="">High</option>
                </select>
		    </div><!-- end columns -->
		    <div class="small-12 medium-6 large-6 columns">
			    <label for="" class=""><i class="fa fa-wrench"></i> Select A Configuration</label>
				<select class="select" id="rapid-config" tabindex="7">
					<option value="">Config. 1</option>											
					<option value="">Config. 2</option>
					<option value="">Config. 3</option>
				</select>
		    </div><!-- end columns -->
		</div><!-- end row -->
    </div><!-- end div#checkout-config-wrapper -->

<button id="kiosk-submit" tabindex="8">
	<span class="fa-stack fa-lg">
	  <i class="fa fa-circle fa-stack-2x"></i>
	  <i class="fa fa-angle-double-right fa-stack-1x fa-inverse"></i>
	</span>
		
	<img src="images/vista-button-text.png"  class="button-img" alt="" />
	<span class="">Checkout</span>
</button>

<div id="assigned-devices-wrapper">
	<div id="assigned-devices">
		<!-- Officers appended here -->
	</div><!-- end div#assigned-devices -->

	<a href="javascript:void(0);" id="toggle-history" class=""><span>Show History <i class="fa  fa-angle-double-down"></i></span></a>
	
</div><!-- end div#assigned-devices-wrapper -->
	

	
	<a href="javascript:void(0);" id="fullscreen-toggle" class="has-tip" title="Show Kiosk in Full Screen">Fullscreen</a>
	<a href="javascript:void(0);" id="kiosk-options" class="button radius has-tip" title="Kiosk Mode Settings" data-reveal-id="kiosk-options-modal"><i class="fa fa-cog"></i></a>
	<a href="javascript:void(0);" id="kiosk-logout" class="button radius has-tip" title="Logout of Kiosk Mode"><i class="fa fa-power-off"></i></a>
	
	
</section>
<!-- end main section --> 

<script type="text/javascript" src="js/jquery.min.js"></script> 
<script type="text/javascript" src="js/foundation.min.js"></script> 
<script type="text/javascript" src="js/chosen.jquery.js"></script> 
<script type="text/javascript" src="js/jquery.qtip.js"></script> 
<script type="text/javascript" src="js/app.js"></script> 
<script type="text/javascript" charset="utf-8">
	// mozfullscreenerror event handler
	function errorHandler() {
	   alert('mozfullscreenerror');
	}
	document.documentElement.addEventListener('mozfullscreenerror', errorHandler, false);

	// toggle full screen
	function toggleFullScreen() {
	  if (!document.fullscreenElement &&    // alternative standard method
	      !document.mozFullScreenElement && !document.webkitFullscreenElement) {  // current working methods
	    if (document.documentElement.requestFullscreen) {
	      document.documentElement.requestFullscreen();
	    } else if (document.documentElement.mozRequestFullScreen) {
	      document.documentElement.mozRequestFullScreen();
	    } else if (document.documentElement.webkitRequestFullscreen) {
	      document.documentElement.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT);
	    }
		$('html').addClass('fullscreen');		
	  } else {
	    if (document.cancelFullScreen) {
	      document.cancelFullScreen();
	    } else if (document.mozCancelFullScreen) {
	      document.mozCancelFullScreen();
	    } else if (document.webkitCancelFullScreen) {
	      document.webkitCancelFullScreen();
	    }
		$('html').removeClass('fullscreen');	
	  }
		
	}

	$(document).ready(function(){
		// toggle Fullscreen funtion
		$('#fullscreen-toggle').on('click', function(){
			toggleFullScreen();
		});
		
		// show change config options 
		$('#change-config').on('click', function(){
			$(this).toggleClass('change');
			if($(this).hasClass('change')){
				$('#checkout-config-wrapper').slideDown();
				$('#kiosk-submit').css('margin-top', '-42px');
			} else {
				$('#checkout-config-wrapper').slideUp();
				$('#kiosk-submit').css('margin-top', '0');
				
			}
		});
		// Submit device assignment
		$('#kiosk-submit').click(function(){
			// show the assigned device info (officer, location)
			$('#assigned-devices-wrapper').fadeIn();
			setTimeout(function() {
				$('#assigned-devices-wrapper').removeClass('pressed');
			}, 1000);
			
			// hide the config options and prep for another officer
			$('#change-config').removeClass('change');
			$('#checkout-config-wrapper').slideUp();
			// focus cursor in Officer Name field
			// we need to reset the options in the config form to default
			$('#checkout-config-wrapper .select').each(function(){
				$(this)[0].selectedIndex = 0;
				$(this).trigger('chosen:updated');
			});
			// show the check mark for a second or so, then reset button
			$(this).addClass('pressed');
			setTimeout(function() {
				$('#kiosk-submit').removeClass('pressed');
			}, 1000);
			
			var officername = $('#officername').val() !=='' ? 'Officer '+$('#officername').val() : 'Officer LastName, FirstName',				
				station = Math.ceil(Math.random() * 12),
				slot = Math.ceil(Math.random() * 8);
				html = '<div class="assigned-device">'+
					'<div class="name">'+officername+'</div>'+
					'<div class="location">'+
						'Transfer Station '+station+'A, Slot '+slot+
					'</div><!-- end span.location -->'+
				'</div><!-- end div.assigned-device -->';

				$(html).hide().appendTo("#assigned-devices").fadeIn(1000);				
				// if more than one item, show the Toggle link
				$('#officername').val('').focus();
				
			
		});
		
		// toggle class on Show/Hide Assigned History
		var active;		
		
		$('#toggle-history').on('click', function(){
			if(active === true){
				$(this).html('<span>Show History <i class="fa  fa-angle-double-down"></i></span>');
				active = false;
			} else {
				$(this).html('<span>Hide History <i class="fa  fa-angle-double-up"></i></span>');				
				active = true;
			}
			// expands the height of the Device History div
			$('#assigned-devices').toggleClass('expand');
		});
		

		// pop print report modal on selection of an option in #select-checkout-report
		$('#select-checkout-report').on('change', function(){
			$('#checkout-report-modal').foundation('reveal', 'open');
		});

		// display the selected print report in new window
		$('.checkout-report').on('click', function(){
			openWindowReport();
		});	

	});  // end docready
	
	
	var windowReport = null; // global variable
	function openWindowReport() {
	  if(windowReport == null || windowReport.closed) {
	    windowReport = window.open('checkout-report.html', '_blank', 'toolbar=0,titlebar=0,status=0,location=0,menubar=0,height=640,width=1024');
	  } else {
	    windowReport.focus();
	  };
	}
	document.addEventListener('keydown', function(e) {
	  if (e.altKey && e.keyCode == 70 ) { // ALT + F   ---------- and/or ------ e.keyCode == 13 (ENTER KEY)
	    toggleFullScreen();
	  }
	}, false);
	
</script>

<div id="rapid-checkout-modal" class="reveal-modal fixed-modal small show-footer" data-reveal>
  <div class="modal-header">
    <div class="modal-title">Checkout Complete</div>
  </div>
  <div class="modal-body">
    <div class="row">
      <div class="small-12 medium-12 large-12 columns">
		<strong> Officer Pitcher, Matthew</strong><br/> 
		Transfer Station <strong>B21, Slot 3</strong><br/>
    </div>
    <!-- end row --> 
  </div>
  <div class="modal-footer shaded-footer">
    <button class="button secondary close-modal">Close</button>
    <button class="button success modalsave close-modal">Done</button>
  </div>
  <a class="close-reveal-modal">×</a>
</div>


<div id="checkout-report-modal" class="reveal-modal fixed-modal large show-footer" data-reveal>
  <div class="modal-header">
    <div class="modal-title">Checkout Report</div>
  </div>
  <div class="modal-body">

	<div class="row" id="checkout-report-wrapper">
	  <div class="small-12 medium-12 large-12 columns">
			<div id="checkout-report-details">
				<div class="checkout-report-detail checkout-report-detail-header">
					<div class="checkout-assignee">Officer Name</div>
					<div class="checkout-device-config">Config.</div>					
					<div class="checkout-device-location">Location, Transfer Station/Slot</div>
					<div class="checkout-device-name">Device Name</div>		
				</div>
				<div class="checkout-report-detail">
					<div class="checkout-assignee">Johnny B. Good</div>
					<div class="checkout-device-config">Config. 1</div>						
					<div class="checkout-device-location">Building 1, Station #/slot</div>
					<div class="checkout-device-name">Vista VL-167</div>
				</div>
				<div class="checkout-report-detail">
					<div class="checkout-assignee">Johnny B. Good</div>
					<div class="checkout-device-config">Config. 1</div>						
					<div class="checkout-device-location">Building 1, Station #/slot</div>
					<div class="checkout-device-name">Vista VL-169</div>
				</div>
				<div class="checkout-report-detail">
					<div class="checkout-assignee">Johnny B. Good</div>
					<div class="checkout-device-config">Config. 1</div>						
					<div class="checkout-device-location">Building 1, Station #/slot</div>
					<div class="checkout-device-name">Vista VL-185</div>
				</div>
				<div class="checkout-report-detail">
					<div class="checkout-assignee">Johnny B. Good</div>
					<div class="checkout-device-config">Config. 1</div>						
					<div class="checkout-device-location">Building 1, Station #/slot</div>
					<div class="checkout-device-name">Vista VL-144</div>
				</div>
				<div class="checkout-report-detail">
					<div class="checkout-assignee">Johnny B. Good</div>
					<div class="checkout-device-config">Config. 1</div>						
					<div class="checkout-device-location">Building 1, Station #/slot</div>
					<div class="checkout-device-name">Vista VL-201</div>
				</div>			
			</div><!-- #checkout-report-details -->
		</div><!-- end div#report-checkout-list -->
	</div><!-- end row --> 
	
  </div><!-- /modal-body -->
  <div class="modal-footer shaded-footer">
    <button class="button secondary close-modal" >Close</button>
    <button class="button success modalsave checkout-report" >Print Checkout Report</button>
  </div>
  <a class="close-reveal-modal">×</a>
</div>



<div id="kiosk-options-modal" class="reveal-modal fixed-modal small show-footer" data-reveal>
  <div class="modal-header">
    <div class="modal-title">Kiosk Options</div>
  </div>
  <div class="modal-body">
    <div class="row">
      <div class="small-12 medium-12 large-12 columns">
		<form action="" method="POST" accept-charset="utf-8"  >
			<label for="select-location">Kiosk Service Location</label>
			<select class="select" id="select-location">
				<option value="">Select A Location</option>
				<option value="">Building 1</option>											
				<option value="">Building 2</option>
				<option value="">Annex 3</option>
			</select>
		</form>
	    </div><!-- end columns -->
	</div><!-- end row -->
	<div class="row">
	    <div class="small-12 medium-12 large-12 columns">
			<label for="select-checkout-report">Kiosk Service Location</label>
			<select class="select" id="select-checkout-report">
				<option value="">Print Last 1 Hours</option>
				<option value="">Print Last 3 Hours</option>											
				<option value="">Print Last 5 Hours</option>
				<option value="">Print Last 7 Hours</option>
				<option value="">Print Last 12 Hours</option>
			</select>		
	    </div><!-- end columns -->
	</div><!-- end row -->

  </div><!-- / modal-body -->
  <div class="modal-footer shaded-footer">
    <button class="button secondary close-modal">Close</button>
    <button class="button success modalsave close-modal">Save Changes</button>
  </div>
  <a class="close-reveal-modal">×</a>
</div>

</body>
</html>